# .claude/ Document Format Rules

These rules apply when generating or updating .claude/ project documentation. The writer agent references this via `skills: [project-mapper:map-sync]`.

## 5 Files

- `map.md` — entry points, data flow, components, directory structure
- `design.md` — tech stack, architecture patterns, key decisions
- `backlog.md` — planned work, in-progress items, discovered TODOs
- `changelog.md` — recent changes (10 max) + archived history by month
- `spec.md` — interface contracts, naming rules, definition of done (NOT generated by sync — init only)

## Reference Style

Every item MUST use this format: `[name](path): description`

One line per item. Use `file:symbol` for specific symbols (e.g., `src/model.py:Model`). Descriptions MUST be 1 sentence max.

## Line Limits

- map.md: under 100 lines
- design.md: under 100 lines
- backlog.md: under 80 lines
- changelog.md: under 50 entries in Recent section
- spec.md: under 150 lines

spec.md is created by init. sync does NOT generate or modify spec.md.

## NEVER Use

- Code blocks for data flow — use plain text with arrows instead
- ASCII art
- Long tables (more than 5 rows)

## backlog.md Required Sections

- `## Planned` — future work
- `## In Progress` — active items
- `## Discovered TODOs` — auto-scanned from codebase

If any section is missing, create it. Do NOT rename or merge these sections.

## changelog.md Required Sections

- `## Recent` — latest 10 entries, format: `- [YYYY-MM-DD] description`
- `## Archive` — consolidated by month, format: `- YYYY-MM: summary`
